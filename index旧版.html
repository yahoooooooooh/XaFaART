<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Â≠¶‰π†Âä©Êâã - Ëâ∫ÊúØÂè≤‰∏é‰∏ñÁïåÂ∏∏ËØÜ</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Noto+Sans+SC:wght@300;400;500;600;700&display=swap');

        :root {
            --primary-color: #667eea;
            --primary-hover: #5a6fd8;
            --secondary-color: #764ba2;
            --accent-color: #f093fb;
            --success-color: #48bb78;
            --text-primary: #2d3748;
            --text-secondary: #4a5568;
            --text-muted: #718096;
            --bg-body: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            --bg-card: #ffffff;
            --bg-overlay: rgba(255, 255, 255, 0.95);
            --shadow-card: 0 10px 25px rgba(0, 0, 0, 0.1);
            --shadow-hover: 0 15px 35px rgba(0, 0, 0, 0.15);
            --border-radius: 16px;
            --transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Noto Sans SC', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
            background: var(--bg-body);
            color: var(--text-primary);
            line-height: 1.6;
            min-height: 100vh;
            position: relative;
        }

        body::before {
            content: '';
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: 
                radial-gradient(circle at 20% 80%, rgba(120, 119, 198, 0.3) 0%, transparent 50%),
                radial-gradient(circle at 80% 20%, rgba(255, 119, 198, 0.3) 0%, transparent 50%),
                radial-gradient(circle at 40% 40%, rgba(120, 219, 255, 0.2) 0%, transparent 50%);
            pointer-events: none;
            z-index: 0;
        }

        .container {
            position: relative;
            z-index: 1;
            min-height: 100vh;
            padding: 20px;
        }

        /* Header */
        .header {
            text-align: center;
            margin-bottom: 50px;
            padding: 40px 20px;
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(20px);
            border-radius: 24px;
            border: 1px solid rgba(255, 255, 255, 0.2);
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
            max-width: 800px;
            margin-left: auto;
            margin-right: auto;
            margin-bottom: 50px;
        }

        .header h1 {
            font-size: clamp(2.5rem, 5vw, 4rem);
            font-weight: 700;
            color: white;
            margin-bottom: 20px;
            text-shadow: 0 2px 20px rgba(0, 0, 0, 0.3);
            filter: drop-shadow(0 4px 8px rgba(0, 0, 0, 0.2));
        }

        .header p {
            font-size: clamp(1.1rem, 2.5vw, 1.3rem);
            color: rgba(255, 255, 255, 0.9);
            max-width: 600px;
            margin: 0 auto;
            text-shadow: 0 1px 10px rgba(0, 0, 0, 0.2);
        }

        /* Admin Panel Toggle */
        .admin-toggle {
            position: fixed;
            top: 20px;
            right: 20px;
            background: rgba(255, 255, 255, 0.25);
            color: white;
            border: 2px solid rgba(255, 255, 255, 0.3);
            border-radius: 50%;
            width: 56px;
            height: 56px;
            cursor: pointer;
            font-size: 1.3rem;
            backdrop-filter: blur(15px);
            transition: var(--transition);
            z-index: 100;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.15);
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .admin-toggle:hover {
            background: rgba(255, 255, 255, 0.35);
            transform: scale(1.1);
            box-shadow: 0 6px 25px rgba(0, 0, 0, 0.2);
        }

        /* Admin Panel */
        .admin-panel {
            position: fixed;
            top: 0;
            right: -400px;
            width: 400px;
            height: 100vh;
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(20px);
            padding: 30px;
            transition: var(--transition);
            z-index: 1000;
            overflow-y: auto;
            box-shadow: -10px 0 30px rgba(0, 0, 0, 0.1);
        }

        .admin-panel.active {
            right: 0;
        }

        .admin-panel h3 {
            color: var(--text-primary);
            margin-bottom: 20px;
            font-size: 1.5rem;
        }

        .admin-form {
            display: flex;
            flex-direction: column;
            gap: 15px;
            margin-bottom: 30px;
        }

        .admin-form label {
            font-weight: 500;
            color: var(--text-secondary);
            margin-bottom: 5px;
        }

        .admin-form input, .admin-form select, .admin-form textarea {
            padding: 12px;
            border: 2px solid #e2e8f0;
            border-radius: 8px;
            font-size: 0.95rem;
            transition: var(--transition);
        }

        .admin-form input:focus, .admin-form select:focus, .admin-form textarea:focus {
            outline: none;
            border-color: var(--primary-color);
            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
        }

        .admin-form button {
            background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
            color: white;
            border: none;
            padding: 12px 20px;
            border-radius: 8px;
            font-weight: 600;
            cursor: pointer;
            transition: var(--transition);
        }

        .admin-form button:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 20px rgba(102, 126, 234, 0.3);
        }

        .backup-section {
            margin-top: 20px;
            padding: 20px;
            background: rgba(0, 0, 0, 0.02);
            border-radius: 12px;
            border: 1px solid rgba(102, 126, 234, 0.1);
        }

        .backup-section h4 {
            margin-bottom: 15px;
            color: var(--text-primary);
            font-size: 1.1rem;
        }

        .backup-section button {
            transition: var(--transition);
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
            font-family: inherit;
        }

        .backup-section button:hover {
            transform: translateY(-1px);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
        }

        .quiz-data-editor {
            margin-top: 20px;
        }

        .quiz-data-editor textarea {
            width: 100%;
            height: 200px;
            font-family: 'Consolas', 'Monaco', monospace;
            font-size: 0.85rem;
            resize: vertical;
        }

        .quiz-list {
            background: rgba(0, 0, 0, 0.05);
            border-radius: 8px;
            padding: 15px;
            margin-top: 20px;
        }

        .quiz-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 10px;
            border-bottom: 1px solid rgba(0, 0, 0, 0.1);
        }

        .quiz-item:last-child {
            border-bottom: none;
        }

        .delete-btn, .edit-btn {
            border: none;
            padding: 5px 10px;
            border-radius: 4px;
            cursor: pointer;
            font-size: 0.8rem;
            margin-left: 5px;
        }

        .delete-btn {
            background: #e53e3e;
            color: white;
        }

        .edit-btn {
            background: #3182ce;
            color: white;
        }

        /* Navigation Breadcrumb */
        .breadcrumb {
            display: flex;
            align-items: center;
            gap: 12px;
            margin-bottom: 40px;
            font-size: 0.95rem;
            padding: 16px 24px;
            background: rgba(255, 255, 255, 0.15);
            backdrop-filter: blur(10px);
            border-radius: 50px;
            border: 1px solid rgba(255, 255, 255, 0.2);
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);
            max-width: fit-content;
        }

        .breadcrumb-item {
            display: flex;
            align-items: center;
            gap: 8px;
            cursor: pointer;
            padding: 8px 16px;
            border-radius: 25px;
            transition: var(--transition);
            color: rgba(255, 255, 255, 0.8);
            font-weight: 500;
        }

        .breadcrumb-item:hover:not(.current) {
            background: rgba(255, 255, 255, 0.2);
            color: white;
            transform: translateY(-1px);
        }

        .breadcrumb-item.current {
            color: white;
            font-weight: 700;
            background: rgba(255, 255, 255, 0.1);
            text-shadow: 0 1px 3px rgba(0, 0, 0, 0.2);
        }

        .breadcrumb-separator {
            color: rgba(255, 255, 255, 0.6);
            font-weight: bold;
        }

        /* Main Content Area */
        .main-content {
            max-width: 1200px;
            margin: 0 auto;
        }

        /* Cards Grid */
        .cards-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
            gap: 30px;
            margin-bottom: 40px;
        }

        .card {
            background: rgba(255, 255, 255, 0.95);
            border-radius: var(--border-radius);
            padding: 32px 28px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.15);
            transition: var(--transition);
            cursor: pointer;
            position: relative;
            overflow: hidden;
            backdrop-filter: blur(15px);
            border: 1px solid rgba(255, 255, 255, 0.3);
        }

        .card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: linear-gradient(90deg, var(--primary-color), var(--accent-color));
            opacity: 0;
            transition: var(--transition);
        }

        .card:hover {
            transform: translateY(-12px);
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.2);
            background: rgba(255, 255, 255, 0.98);
        }

        .card:hover::before {
            opacity: 1;
        }

        .card-icon {
            width: 60px;
            height: 60px;
            background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
            border-radius: 16px;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-bottom: 24px;
            font-size: 1.8rem;
        }

        .card h3 {
            font-size: 1.5rem;
            font-weight: 600;
            color: var(--text-primary);
            margin-bottom: 12px;
        }

        .card p {
            color: var(--text-secondary);
            font-size: 0.95rem;
            line-height: 1.6;
            margin-bottom: 16px;
        }

        .card-meta {
            display: flex;
            justify-content: space-between;
            align-items: center;
            font-size: 0.85rem;
            color: var(--text-muted);
        }

        .difficulty-badge {
            padding: 4px 12px;
            border-radius: 12px;
            font-size: 0.8rem;
            font-weight: 500;
        }

        .difficulty-easy { background: rgba(72, 187, 120, 0.15); color: #38a169; }
        .difficulty-medium { background: rgba(237, 137, 54, 0.15); color: #dd6b20; }
        .difficulty-hard { background: rgba(245, 101, 101, 0.15); color: #e53e3e; }

        /* Start Quiz Button */
        .start-quiz-btn {
            display: inline-flex;
            align-items: center;
            gap: 12px;
            padding: 16px 32px;
            background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
            color: white;
            border: none;
            border-radius: 12px;
            font-size: 1.1rem;
            font-weight: 600;
            cursor: pointer;
            transition: var(--transition);
            box-shadow: 0 8px 20px rgba(102, 126, 234, 0.3);
            width: 100%;
            justify-content: center;
        }

        .start-quiz-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 12px 30px rgba(102, 126, 234, 0.4);
        }

        /* ÂÜÖÂµåÈ¢òÂ∫ìÊ†∑Âºè - ÁªßÊâøÂéüÊúâÈ¢òÂ∫ìÁöÑÊâÄÊúâÊ†∑Âºè */
        .quiz-container.embedded {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: var(--bg-body);
            z-index: 1000;
            padding: 0;
        }

        .quiz-wrapper {
            display: flex;
            flex-direction: column;
            width: 100%;
            height: 100vh;
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(15px);
            position: relative;
        }

        .quiz-header {
            text-align: center;
            padding: 25px 30px;
            background: linear-gradient(135deg, rgba(102, 126, 234, 0.1) 0%, rgba(118, 75, 162, 0.05) 100%);
            border-bottom: 1px solid #e2e8f0;
            position: relative;
            overflow: hidden;
            flex-shrink: 0;
        }

        .quiz-header h1 {
            color: var(--text-primary);
            font-size: clamp(1.8em, 4vw, 2.3em);
            font-weight: 700;
            margin-bottom: 8px;
            background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .quiz-header p {
            color: var(--text-secondary);
            font-size: clamp(0.9em, 2.5vw, 1.05em);
            font-weight: 400;
        }

        .quiz-close-btn {
            position: absolute;
            top: 20px;
            right: 20px;
            background: rgba(255, 255, 255, 0.2);
            color: var(--text-primary);
            border: none;
            border-radius: 50%;
            width: 40px;
            height: 40px;
            cursor: pointer;
            font-size: 1.2rem;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: var(--transition);
            backdrop-filter: blur(10px);
        }

        .quiz-close-btn:hover {
            background: rgba(255, 255, 255, 0.4);
        }

        /* ËøôÈáåÁªßÊâøÂéüÈ¢òÂ∫ìÁöÑÊâÄÊúâÊ†∑Âºè */
        .progress-bar-container {
            width: calc(100% - 60px);
            margin: 20px auto;
            background: #f7fafc;
            border-radius: 50px;
            height: 20px;
            overflow: hidden;
            box-shadow: inset 0 1px 3px rgba(0, 0, 0, 0.1);
            position: relative;
            flex-shrink: 0;
        }

        .progress-bar {
            width: 0%;
            height: 100%;
            background: linear-gradient(90deg, var(--primary-color), var(--accent-color));
            text-align: center;
            line-height: 20px;
            color: white;
            transition: width 0.6s cubic-bezier(0.25, 0.8, 0.25, 1);
            font-size: 0.8em;
            font-weight: 600;
            position: relative;
            box-shadow: 0 1px 8px rgba(102, 126, 234, 0.25);
        }

        .quiz-content-area {
            flex-grow: 1;
            overflow-y: auto;
            padding: 0 30px 20px 30px;
            scrollbar-width: thin;
            scrollbar-color: var(--primary-color) #f7fafc;
        }

        .quiz-content-area::-webkit-scrollbar { width: 8px; }
        .quiz-content-area::-webkit-scrollbar-track { background: #f7fafc; border-radius: 4px; }
        .quiz-content-area::-webkit-scrollbar-thumb { background: var(--primary-color); border-radius: 4px; }

        .question-block {
            background: var(--bg-card);
            padding: 20px 25px;
            border-radius: 12px;
            margin: 20px 0;
            box-shadow: var(--shadow-card);
            transition: var(--transition);
            position: relative;
            overflow: hidden;
            animation: fadeInQuestion 0.5s cubic-bezier(0.25, 0.8, 0.25, 1) forwards;
            opacity: 0;
        }

        @keyframes fadeInQuestion {
            from { opacity: 0; transform: translateY(15px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .question-block::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 5px;
            height: 100%;
            background: linear-gradient(180deg, var(--primary-color) 0%, var(--accent-color) 100%);
            border-top-left-radius: 12px;
            border-bottom-left-radius: 12px;
        }

        .question-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 18px;
            padding-bottom: 12px;
            border-bottom: 1px solid #e2e8f0;
        }

        .section-title-display {
            font-size: 0.85em;
            color: var(--text-muted);
            font-weight: 500;
            background: #f7fafc;
            padding: 5px 12px;
            border-radius: 20px;
            border: 1px solid #e2e8f0;
        }

        .question-number-display {
            font-weight: 600;
            color: var(--primary-color);
            font-size: 0.9em;
            background: linear-gradient(135deg, rgba(102, 126, 234, 0.1), rgba(240, 147, 251, 0.1));
            padding: 6px 15px;
            border-radius: 20px;
            border: 1px solid rgba(102, 126, 234, 0.3);
        }

        .question-text {
            font-weight: 500;
            margin-bottom: 20px;
            font-size: 1.2em;
            color: var(--text-primary);
            line-height: 1.6;
        }

        .options {
            display: grid;
            gap: 12px;
        }

        .options input[type="radio"] {
            opacity: 0;
            position: absolute;
            width: 1px;
            height: 1px;
        }

        .options label {
            display: flex;
            align-items: center;
            padding: 14px 18px;
            border-radius: 6px;
            background: #f7fafc;
            cursor: pointer;
            transition: var(--transition);
            border: 2px solid transparent;
            color: var(--text-secondary);
            font-weight: 500;
            position: relative;
            overflow: hidden;
        }

        .options label .custom-radio {
            width: 18px;
            height: 18px;
            border: 2px solid #e2e8f0;
            border-radius: 50%;
            margin-right: 12px;
            display: inline-block;
            transition: var(--transition);
            flex-shrink: 0;
            position: relative;
        }

        .options label .custom-radio::after {
            content: '';
            width: 10px;
            height: 10px;
            background: var(--primary-color);
            border-radius: 50%;
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%) scale(0);
            transition: var(--transition);
        }

        .options input[type="radio"]:checked + .custom-radio {
            border-color: var(--primary-color);
        }

        .options input[type="radio"]:checked + .custom-radio::after {
            transform: translate(-50%, -50%) scale(1);
        }

        .options label:hover:not(.answered-option):not(.disabled-option) {
            background: rgba(102, 126, 234, 0.08);
            border-color: var(--primary-color);
            color: var(--text-primary);
            transform: translateX(3px);
            box-shadow: var(--shadow-card);
        }

        .options label.selected-option {
            background: linear-gradient(135deg, rgba(102, 126, 234, 0.15), rgba(240, 147, 251, 0.1));
            border-color: var(--primary-color);
            color: var(--text-primary);
            font-weight: 600;
        }

        .options label.answered-option {
            cursor: default;
            opacity: 0.9;
        }

        .options label.correct-answer-highlight {
            background: rgba(72, 187, 120, 0.1) !important;
            border-color: #38a169 !important;
            color: var(--text-primary) !important;
            font-weight: 600;
        }

        .options label.incorrect-user-choice {
            background: rgba(245, 101, 101, 0.1) !important;
            border-color: #e53e3e !important;
            color: var(--text-primary) !important;
        }

        .explanation {
            margin-top: 20px;
            padding: 18px 22px;
            border-radius: 6px;
            font-size: 0.95em;
            line-height: 1.7;
            animation: fadeInExplanation 0.4s ease-out 0.2s forwards;
            opacity: 0;
        }

        @keyframes fadeInExplanation {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .explanation.correct {
            background: rgba(72, 187, 120, 0.1);
            border-left: 4px solid var(--success-color);
            color: var(--text-primary);
        }

        .explanation.incorrect {
            background: rgba(245, 101, 101, 0.1);
            border-left: 4px solid #e53e3e;
            color: var(--text-primary);
        }

        .navigation-controls {
            padding: 18px 30px;
            border-top: 1px solid #e2e8f0;
            background: linear-gradient(135deg, rgba(255,255,255,0.7), rgba(250,250,252,0.8));
            backdrop-filter: blur(10px);
            flex-shrink: 0;
        }

        .navigation-buttons {
            display: flex;
            justify-content: space-between;
            align-items: center;
            gap: 12px;
        }

        .nav-btn, .submit-btn-single {
            color: white;
            padding: 10px 20px;
            border: none;
            border-radius: 12px;
            cursor: pointer;
            font-size: 0.9em;
            font-weight: 600;
            transition: var(--transition);
            min-width: 110px;
            text-align: center;
            box-shadow: var(--shadow-card);
            position: relative;
            overflow: hidden;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            gap: 6px;
        }

        #submit-btn, #next-btn {
            background: linear-gradient(135deg, var(--primary-color), var(--primary-hover));
        }

        #prev-btn {
            background: #f7fafc;
            color: var(--text-secondary);
            border: 1px solid #e2e8f0;
        }

        .nav-btn:hover:not([disabled]) {
            transform: translateY(-2px);
            box-shadow: var(--shadow-hover);
        }

        .nav-btn:disabled {
            background: #b8c2d4;
            color: #e2e8f0;
            cursor: not-allowed;
        }

        .final-score-container {
            flex-grow: 1;
            display: none;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            padding: 30px;
            text-align: center;
            overflow-y: auto;
        }

        .final-score-summary {
            font-size: 1.05em;
            color: var(--text-primary);
            margin-bottom: 25px;
            line-height: 1.7;
            background: var(--bg-card);
            padding: 25px 30px;
            border-radius: 12px;
            box-shadow: var(--shadow-hover);
            border: 1px solid #e2e8f0;
            max-width: 480px;
            width: 100%;
        }

        .final-score-actions {
            display: flex;
            gap: 15px;
            flex-wrap: wrap;
            justify-content: center;
        }

        /* Responsive Design */
        @media (max-width: 768px) {
            .container { padding: 15px; }
            .header { 
                margin-bottom: 30px; 
                padding: 30px 20px; 
                border-radius: 16px;
            }
            .header h1 {
                font-size: clamp(2rem, 8vw, 3rem);
            }
            .breadcrumb {
                padding: 12px 16px;
                border-radius: 30px;
                flex-wrap: wrap;
            }
            .breadcrumb-item {
                padding: 6px 12px;
                font-size: 0.9rem;
            }
            .cards-grid { grid-template-columns: 1fr; gap: 20px; }
            .admin-panel { width: 100%; right: -100%; }
            .admin-toggle {
                width: 50px;
                height: 50px;
                font-size: 1.1rem;
            }
            .quiz-content-area { padding: 0 20px 15px 20px; }
            .navigation-buttons { flex-direction: column; align-items: stretch; }
            .nav-btn { width: 100%; margin-bottom: 8px; }
        }
    </style>
</head>
<body>
    <!-- Admin Toggle Button -->
    <button class="admin-toggle" id="adminToggle" title="ÁÆ°ÁêÜÈ¢òÂ∫ì">‚öôÔ∏è</button>

    <!-- Admin Panel -->
    <div class="admin-panel" id="adminPanel">
        <h3>üìö È¢òÂ∫ìÁÆ°ÁêÜ</h3>
        
        <form class="admin-form" id="addQuizForm">
            <label>Â≠¶ÁßëÂàÜÁ±ª</label>
            <select id="subjectSelect" required>
                <option value="western_art">Ë•øÊñπËâ∫ÊúØÂè≤</option>
                <option value="chinese_art">‰∏≠ÂõΩÁæéÊúØÂè≤</option>
                <option value="art_theory">Ëâ∫ÊúØÊ¶ÇËÆ∫</option>
                <option value="world_knowledge">‰∏ñÁïåÂ∏∏ËØÜ</option>
            </select>

            <label>Êó∂ÊúüÂàÜÁ±ª</label>
            <input type="text" id="periodInput" placeholder="Â¶ÇÔºöÂç∞Ë±°Ê¥æ„ÄÅÊñáÂè≤ÁªºÂêà„ÄÅÁêÜÂ∑•Â∏∏ËØÜÁ≠â" required>

            <label>È¢òÂ∫ìÂêçÁß∞</label>
            <input type="text" id="quizNameInput" placeholder="Â¶ÇÔºöÂç∞Ë±°Ê¥æÂàùÁ∫ßÈ¢òÂ∫ì„ÄÅÊñáÂè≤Âü∫Á°Ä100È¢ò" required>

            <label>È¢òÂ∫ìÊèèËø∞</label>
            <textarea id="quizDescInput" placeholder="ÁÆÄË¶ÅÊèèËø∞Ëøô‰∏™È¢òÂ∫ìÁöÑÂÜÖÂÆπ" rows="3"></textarea>

            <label>ÈöæÂ∫¶Á≠âÁ∫ß</label>
            <select id="difficultySelect" required>
                <option value="easy">ÂàùÁ∫ß</option>
                <option value="medium">‰∏≠Á∫ß</option>
                <option value="hard">È´òÁ∫ß</option>
            </select>

            <label>È¢ÑËÆ°Áî®Êó∂</label>
            <input type="text" id="estimatedTimeInput" placeholder="Â¶ÇÔºö15-20ÂàÜÈíü" required>

            <button type="submit">‚úÖ Ê∑ªÂä†È¢òÂ∫ì</button>
        </form>

        <!-- Êï∞ÊçÆÂ§á‰ªΩÁÆ°ÁêÜÂå∫Âüü -->
        <div class="backup-section">
            <h4>üíæ Êï∞ÊçÆÂ§á‰ªΩÁÆ°ÁêÜ</h4>
            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 10px; margin-bottom: 20px;">
                <button type="button" id="backupDataBtn" style="background: #805ad5; color: white; border: none; padding: 10px 15px; border-radius: 8px; font-size: 0.9em; cursor: pointer; font-weight: 500;">
                    üì¶ Â§á‰ªΩÊï∞ÊçÆ
                </button>
                <button type="button" id="restoreDataBtn" style="background: #38a169; color: white; border: none; padding: 10px 15px; border-radius: 8px; font-size: 0.9em; cursor: pointer; font-weight: 500;">
                    üìÇ ÊÅ¢Â§çÊï∞ÊçÆ
                </button>
            </div>
            <input type="file" id="restoreFileInput" accept=".json" style="display: none;">
            <div style="font-size: 0.85em; color: var(--text-muted); line-height: 1.4;">
                üí° <strong>‰ΩøÁî®ËØ¥ÊòéÔºö</strong><br>
                ‚Ä¢ Â§á‰ªΩÔºö‰∏ãËΩΩÂΩìÂâçÊâÄÊúâÈ¢òÂ∫ìÊï∞ÊçÆÂà∞Êú¨Âú∞JSONÊñá‰ª∂<br>
                ‚Ä¢ ÊÅ¢Â§çÔºöÈÄâÊã©Â§á‰ªΩÁöÑJSONÊñá‰ª∂Êù•ÊÅ¢Â§çÈ¢òÂ∫ìÊï∞ÊçÆ<br>
                ‚Ä¢ Âª∫ËÆÆÂÆöÊúüÂ§á‰ªΩÔºåÈò≤Ê≠¢Êï∞ÊçÆ‰∏¢Â§±
            </div>
        </div>

        <div class="quiz-data-editor">
            <h4>üìù È¢òÁõÆÊï∞ÊçÆ</h4>
            <div style="display: flex; gap: 10px; margin-bottom: 10px; align-items: center;">
                <p style="font-size: 0.9em; color: var(--text-muted); margin: 0; flex: 1;">
                    Âú®‰∏ãÊñπÁ≤òË¥¥È¢òÁõÆÊï∞ÊçÆÔºàJSONÊ†ºÂºèÔºâÔºåÁÇπÂáª"Ê∑ªÂä†È¢òÂ∫ì"Êó∂‰ºöËá™Âä®ËØªÂèñ
                </p>
                <button type="button" id="copyInstructionBtn" style="background: #3182ce; color: white; border: none; padding: 6px 12px; border-radius: 6px; font-size: 0.8em; cursor: pointer; white-space: nowrap;">
                    üìÑ Ëé∑ÂèñAIÁîüÊàêÊåá‰ª§
                </button>
            </div>
            <textarea id="quizDataInput" placeholder='ÁÇπÂáª‰∏äÊñπ"üìÑ Ëé∑ÂèñAIÁîüÊàêÊåá‰ª§"ÊåâÈíÆËé∑ÂèñÂÆåÊï¥ÁöÑÈ¢òÁõÆÁîüÊàêÊåá‰ª§ÔºàÂåÖÂê´JSONÊ†ºÂºèÁ§∫‰æãÔºâ'></textarea>
        </div>

        <div class="quiz-list" id="quizList">
            <h4>üìã Áé∞ÊúâÈ¢òÂ∫ì</h4>
            <div id="quizListContent">
                <!-- È¢òÂ∫ìÂàóË°®Â∞ÜÂú®ËøôÈáåÊòæÁ§∫ -->
            </div>
        </div>
    </div>

    <div class="container">
        <header class="header">
            <h1>Â≠¶‰π†Âä©Êâã</h1>
            <p>Êé¢Á¥¢Ëâ∫ÊúØÁöÑÊó†Á©∑È≠ÖÂäõ‰∏é‰∏ñÁïåÂ∏∏ËØÜÔºå‰ªéÁªèÂÖ∏Âà∞Áé∞‰ª£ÔºåÂºÄÂêØÊÇ®ÁöÑÂÖ®Èù¢Â≠¶‰π†‰πãÊóÖ</p>
        </header>

        <!-- Navigation Breadcrumb -->
        <nav class="breadcrumb" id="breadcrumb">
            <div class="breadcrumb-item current" data-level="home">
                üè† È¶ñÈ°µ
            </div>
        </nav>

        <main class="main-content">
            <div class="cards-grid" id="cardsGrid">
                <!-- Content will be dynamically generated -->
            </div>
        </main>
    </div>

    <!-- Quiz Container (ÂÜÖÂµåÈ¢òÂ∫ìÂºïÊìé) -->
    <div class="quiz-container embedded" id="quizContainer">
        <div class="quiz-wrapper">
            <header class="quiz-header">
                <button class="quiz-close-btn" id="quizCloseBtn">√ó</button>
                <h1 id="quizTitle">È¢òÂ∫ìÊ†áÈ¢ò</h1>
                <p id="quizSubtitle">È¢òÂ∫ìÊèèËø∞</p>
            </header>

            <div class="progress-bar-container" id="progressBarContainer">
                <div class="progress-bar" id="progressBar">0%</div>
            </div>

            <div class="quiz-content-area" id="quizContentArea">
                <div id="quiz-area">
                    <!-- Single question will be displayed here -->
                </div>
            </div>
            
            <div class="final-score-container" id="finalScoreContainer">
                <div id="finalScoreSummary" class="final-score-summary">
                    <!-- Final score will be shown here -->
                </div>
                <div class="final-score-actions">
                    <button id="review-incorrect-btn" class="nav-btn">
                        üîç ÂõûÈ°æÈîôÈ¢ò
                    </button>
                    <button id="restart-btn" class="nav-btn">
                        üîÑ ÈáçÊñ∞ÂºÄÂßã
                    </button>
                </div>
            </div>

            <div class="navigation-controls" id="navigationControls">
                <div class="navigation-buttons">
                    <button id="prev-btn" class="nav-btn">
                        ‚Üê ‰∏ä‰∏ÄÈ¢ò
                    </button>
                    <button id="submit-btn" class="submit-btn-single nav-btn">
                        Êèê‰∫§Á≠îÊ°à ‚úì
                    </button>
                    <button id="next-btn" class="nav-btn">
                        ‰∏ã‰∏ÄÈ¢ò ‚Üí
                    </button>
                </div>
            </div>
        </div>
    </div>

    <script>
        // È¢òÂ∫ìÊï∞ÊçÆÂ≠òÂÇ® - Áé∞Âú®ÂåÖÂê´‰∏ñÁïåÂ∏∏ËØÜ
        let quizData = JSON.parse(localStorage.getItem('artQuizData')) || {
            "western_art": {
                id: "western_art",
                name: "Ë•øÊñπËâ∫ÊúØÂè≤",
                description: "Êé¢Á¥¢‰ªéÂè§Ëá≥‰ªäÁöÑË•øÊñπËâ∫ÊúØÂèëÂ±ïËÑâÁªúÔºå‰ªéÂè§ÂÖ∏‰∏ª‰πâÂà∞Áé∞‰ª£‰∏ª‰πâÁöÑËâ∫ÊúØÈù©ÂëΩ",
                icon: "üé®",
                periods: {
                    "impressionism": {
                        id: "impressionism",
                        name: "Âç∞Ë±°Ê¥æÊó∂Êúü",
                        description: "19‰∏ñÁ∫™Ê≥ïÂõΩÂç∞Ë±°Ê¥æËâ∫ÊúØËøêÂä®ÔºåÂÖâ‰∏éËâ≤ÂΩ©ÁöÑÈù©ÂëΩ",
                        icon: "üåÖ",
                        quizzes: [
                            {
                                id: "impressionism_beginner",
                                name: "Âç∞Ë±°Ê¥æÂàùÁ∫ßÈ¢òÂ∫ì",
                                description: "ÈÄÇÂêàÂàùÂ≠¶ËÄÖÁöÑÂç∞Ë±°Ê¥æÂü∫Á°ÄÁü•ËØÜÊµãËØï",
                                difficulty: "easy",
                                estimatedTime: "15-20ÂàÜÈíü",
                                questions: [
                                    {
                                        section: "ÂºïË®ÄÔºöÂÆö‰πâÂç∞Ë±°Ê¥æÂèäÂÖ∂Èù©ÂëΩÊÄßÂΩ±Âìç",
                                        question: "Âç∞Ë±°Ê¥æÁöÑÊ†∏ÂøÉ‰∏ªÂº†Âú®‰∫éÊçïÊçâËâ∫ÊúØÂÆ∂ÂØπÁâπÂÆöÂú∫ÊôØÁöÑ‰ªÄ‰πàÔºü",
                                        options: [
                                            "ÂØπË±°ÁöÑÁ≤æÁªÜ„ÄÅÂÆ¢ËßÇÂÜçÁé∞‰∏éÂéÜÂè≤ÁªÜËäÇ",
                                            "Áû¨Èó¥ÊÑüÂÆòÂç∞Ë±°ÔºåÂ∞§ÂÖ∂ÊòØÂÖâÁ∫ø‰∏éËâ≤ÂΩ©ÁöÑÂèòÂπª",
                                            "ÁêÜÊÉ≥ÂåñÁöÑÁæéÂ≠¶ÂΩ¢ÊÄÅ‰∏éÁ•ûËØùÂèô‰∫ã",
                                            "Ê∑±ÂàªÁöÑÁ§æ‰ºöÊâπÂà§‰∏éÊîøÊ≤ªÂØìÊÑè"
                                        ],
                                        correctAnswer: 1,
                                        explanation: "Âç∞Ë±°Ê¥æÁöÑÊ†∏ÂøÉ‰∏ªÂº†Âú®‰∫éÊçïÊçâËâ∫ÊúØÂÆ∂ÂØπÁâπÂÆöÂú∫ÊôØÁöÑÁû¨Èó¥ÊÑüÂÆòÂç∞Ë±°ÔºåËÄåÈùûËøΩÊ±ÇÂØπË±°ÁöÑÁ≤æÁªÜ„ÄÅÂÆ¢ËßÇÂÜçÁé∞„ÄÇÂÖ∂Ëâ∫ÊúØÂÆûË∑µÁöÑÊ†∏ÂøÉÂú®‰∫éÂØπÂÖâÁ∫ø„ÄÅËâ≤ÂΩ©‰ª•ÂèäÂèòÂπªËé´ÊµãÁöÑÁû¨Èó¥ÁöÑÁ≤æÂ¶ôËøêÁî®„ÄÇ"
                                    },
                                    {
                                        section: "ÂºïË®ÄÔºöÂÆö‰πâÂç∞Ë±°Ê¥æÂèäÂÖ∂Èù©ÂëΩÊÄßÂΩ±Âìç",
                                        question: "\"Âç∞Ë±°Ê¥æ\"Ëøô‰∏ÄÂêçÁß∞ÊúÄÂàùÊ∫ê‰∫é‰ªÄ‰πàÔºü",
                                        options: [
                                            "Ëâ∫ÊúØÂÆ∂‰ª¨ÂØπËá™Â∑±È£éÊ†ºÁöÑÁ≤æÂáÜÂÆö‰πâ",
                                            "Ëâ∫ÊúØËØÑËÆ∫ÂÆ∂Ë∑ØÊòì¬∑ÂãíÈ≤ÅÁì¶ÂØπËé´Â•à‰ΩúÂìÅÁöÑËÆ•ËÆΩÊÄßËØÑËÆ∫",
                                            "Ê≥ïÂõΩÁæéÊúØÂ≠¶Èô¢ÂØπÊñ∞ÂÖ¥ÁîªÊ¥æÁöÑÂÆòÊñπÂëΩÂêç",
                                            "ËßÇ‰ºóÂØπÁîªÂ±ïÁöÑÊôÆÈÅçÊ≠£Èù¢ËØÑ‰ª∑"
                                        ],
                                        correctAnswer: 1,
                                        explanation: "\"Âç∞Ë±°Ê¥æ\"Ëøô‰∏ÄÂêçÁß∞Ê∫ê‰∫éËâ∫ÊúØËØÑËÆ∫ÂÆ∂Ë∑ØÊòì¬∑ÂãíÈ≤ÅÁì¶ÂØπ1874Âπ¥È¶ñÂ±äÂç∞Ë±°Ê¥æÁîªÂ±ïÁöÑËÆ•ËÆΩÊÄßËØÑËÆ∫ÔºåÁâπÊÑèÈíàÂØπÂÖãÊ¥õÂæ∑¬∑Ëé´Â•àÁöÑ‰ΩúÂìÅ„ÄäÂç∞Ë±°¬∑Êó•Âá∫„ÄãËøõË°åÊåñËã¶„ÄÇ"
                                    }
                                ]
                            }
                        ]
                    }
                }
            },
            "chinese_art": {
                id: "chinese_art",
                name: "‰∏≠ÂõΩÁæéÊúØÂè≤",
                description: "È¢ÜÁï•ÂçöÂ§ßÁ≤æÊ∑±ÁöÑ‰∏≠ÂçéËâ∫ÊúØÁë∞ÂÆùÔºå‰ªéÂè§‰ª£Âà∞ËøëÁé∞‰ª£ÁöÑËâ∫ÊúØ‰º†Êâø",
                icon: "üñåÔ∏è",
                periods: {}
            },
            "art_theory": {
                id: "art_theory",
                name: "Ëâ∫ÊúØÊ¶ÇËÆ∫",
                description: "Ëâ∫ÊúØÁöÑÊú¨Ë¥®„ÄÅÂäüËÉΩ‰∏éÂÆ°ÁæéÁêÜËÆ∫ÔºåÂª∫Á´ãÁ≥ªÁªüÁöÑËâ∫ÊúØËÆ§Áü•Ê°ÜÊû∂",
                icon: "üìö",
                periods: {}
            },
            "world_knowledge": {
                id: "world_knowledge",
                name: "‰∏ñÁïåÂ∏∏ËØÜ",
                description: "Ê∂µÁõñÊñá„ÄÅÊ≥ï„ÄÅÁêÜ„ÄÅÂ∑•„ÄÅÂÜú„ÄÅÂåª„ÄÅËâ∫Á≠âÂêÑÈ¢ÜÂüüÁöÑÂü∫Á°ÄÂ∏∏ËØÜ‰∏éÊ†∏ÂøÉÁü•ËØÜ",
                icon: "üåç",
                periods: {
                    "liberal_arts": {
                        id: "liberal_arts",
                        name: "ÊñáÂè≤Âì≤ÁªºÂêà",
                        description: "ÊñáÂ≠¶„ÄÅÂéÜÂè≤„ÄÅÂì≤Â≠¶Á≠â‰∫∫ÊñáÂ≠¶ÁßëÁöÑÂü∫Á°ÄÂ∏∏ËØÜ",
                        icon: "üìú",
                        quizzes: []
                    },
                    "law_politics": {
                        id: "law_politics",
                        name: "Ê≥ïÊîøÂ∏∏ËØÜ",
                        description: "Ê≥ïÂæãÊ≥ïËßÑ„ÄÅÊîøÊ≤ªÂà∂Â∫¶„ÄÅÊó∂‰∫ãÊîøÁ≠ñÁ≠âÂü∫Á°ÄÁü•ËØÜ",
                        icon: "‚öñÔ∏è",
                        quizzes: []
                    },
                    "science_math": {
                        id: "science_math",
                        name: "ÁêÜÁßëÁªºÂêà",
                        description: "Êï∞Â≠¶„ÄÅÁâ©ÁêÜ„ÄÅÂåñÂ≠¶„ÄÅÁîüÁâ©Á≠âËá™ÁÑ∂ÁßëÂ≠¶Âü∫Á°Ä",
                        icon: "üß™",
                        quizzes: []
                    },
                    "engineering_tech": {
                        id: "engineering_tech",
                        name: "Â∑•ÁßëÊäÄÊúØ",
                        description: "Â∑•Á®ãÊäÄÊúØ„ÄÅËÆ°ÁÆóÊú∫ÁßëÂ≠¶„ÄÅ‰ø°ÊÅØÊäÄÊúØÁ≠âÂ∫îÁî®Áü•ËØÜ",
                        icon: "‚öôÔ∏è",
                        quizzes: []
                    },
                    "agriculture": {
                        id: "agriculture",
                        name: "ÂÜú‰∏öÁßëÂ≠¶",
                        description: "ÂÜú‰∏öÊäÄÊúØ„ÄÅÁîüÊÄÅÁéØÂ¢É„ÄÅÈ£üÂìÅÂÆâÂÖ®Á≠âÁõ∏ÂÖ≥Áü•ËØÜ",
                        icon: "üå±",
                        quizzes: []
                    },
                    "medicine_health": {
                        id: "medicine_health",
                        name: "ÂåªÂ≠¶ÂÅ•Â∫∑",
                        description: "Âü∫Á°ÄÂåªÂ≠¶„ÄÅÂÅ•Â∫∑Â∏∏ËØÜ„ÄÅÁñæÁóÖÈ¢ÑÈò≤Á≠âÂåªÁñóÁü•ËØÜ",
                        icon: "üè•",
                        quizzes: []
                    },
                    "general_culture": {
                        id: "general_culture",
                        name: "ÊñáÂåñËâ∫ÊúØ",
                        description: "ÊñáÂåñÂ∏∏ËØÜ„ÄÅËâ∫ÊúØÈâ¥Ëµè„ÄÅÁ§æ‰ºöÁîüÊ¥ªÁ≠âÁªºÂêàÁü•ËØÜ",
                        icon: "üé≠",
                        quizzes: []
                    }
                }
            }
        };

        // ÂΩìÂâçÂØºËà™Áä∂ÊÄÅ
        let currentState = {
            level: 'home',
            subject: null,
            period: null,
            quiz: null
        };

        // È¢òÂ∫ìÂºïÊìéÂèòÈáè
        let currentQuizData = null;
        let currentQuestionIndex = 0;
        let userAnswers = [];
        let answeredStatus = [];
        let score = 0;
        let incorrectQuestions = [];
        let currentIncorrectReviewIndex = 0;
        let quizStartTime;
        let quizEndTime;
        let isReviewMode = false;

        // DOM ÂÖÉÁ¥†
        const adminToggle = document.getElementById('adminToggle');
        const adminPanel = document.getElementById('adminPanel');
        const addQuizForm = document.getElementById('addQuizForm');
        const quizDataInput = document.getElementById('quizDataInput');
        const copyInstructionBtn = document.getElementById('copyInstructionBtn');
        const backupDataBtn = document.getElementById('backupDataBtn');
        const restoreDataBtn = document.getElementById('restoreDataBtn');
        const restoreFileInput = document.getElementById('restoreFileInput');
        const quizListContent = document.getElementById('quizListContent');
        const breadcrumb = document.getElementById('breadcrumb');
        const cardsGrid = document.getElementById('cardsGrid');
        const quizContainer = document.getElementById('quizContainer');
        const quizTitle = document.getElementById('quizTitle');
        const quizSubtitle = document.getElementById('quizSubtitle');

        // È¢òÂ∫ìÂºïÊìéDOMÂÖÉÁ¥†
        const quizContentArea = document.getElementById('quizContentArea');
        const quizArea = document.getElementById('quiz-area');
        const finalScoreContainer = document.getElementById('finalScoreContainer');
        const finalScoreSummaryDiv = document.getElementById('finalScoreSummary');
        const progressBarContainer = document.getElementById('progressBarContainer');
        const progressBar = document.getElementById('progressBar');
        const prevBtn = document.getElementById('prev-btn');
        const nextBtn = document.getElementById('next-btn');
        const submitBtn = document.getElementById('submit-btn');
        const restartBtn = document.getElementById('restart-btn');
        const reviewIncorrectBtn = document.getElementById('review-incorrect-btn');
        const navigationControls = document.getElementById('navigationControls');
        const quizCloseBtn = document.getElementById('quizCloseBtn');

        // ÂàùÂßãÂåñÂ∫îÁî®
        function init() {
            showHomePage();
            setupEventListeners();
            updateQuizList();
            
            // ‰øùÂ≠òÊõ¥Êñ∞ÂêéÁöÑÊï∞ÊçÆÁªìÊûÑÔºàÂåÖÂê´‰∏ñÁïåÂ∏∏ËØÜÔºâ
            localStorage.setItem('artQuizData', JSON.stringify(quizData));
        }

        // ËÆæÁΩÆ‰∫ã‰ª∂ÁõëÂê¨Âô®
        function setupEventListeners() {
            // ÁÆ°ÁêÜÈù¢ÊùøÂàáÊç¢
            adminToggle.addEventListener('click', () => {
                adminPanel.classList.toggle('active');
            });

            // ÁÇπÂáªÂÖ∂‰ªñÂú∞ÊñπÂÖ≥Èó≠ÁÆ°ÁêÜÈù¢Êùø
            document.addEventListener('click', (e) => {
                if (!adminPanel.contains(e.target) && e.target !== adminToggle) {
                    adminPanel.classList.remove('active');
                }
            });

            // Ê∑ªÂä†È¢òÂ∫ìË°®Âçï
            addQuizForm.addEventListener('submit', (e) => {
                e.preventDefault();
                addNewQuiz();
            });

            // Â§çÂà∂AIÊåá‰ª§Ê®°Êùø
            copyInstructionBtn.addEventListener('click', copyInstructionTemplate);

            // Êï∞ÊçÆÂ§á‰ªΩÂíåÊÅ¢Â§ç
            backupDataBtn.addEventListener('click', backupData);
            restoreDataBtn.addEventListener('click', () => restoreFileInput.click());
            restoreFileInput.addEventListener('change', restoreData);

            // Èù¢ÂåÖÂ±ëÂØºËà™ÁÇπÂáª
            breadcrumb.addEventListener('click', (e) => {
                const item = e.target.closest('.breadcrumb-item');
                if (!item || item.classList.contains('current')) return;
                
                const level = item.dataset.level;
                navigateToLevel(level, item.dataset);
            });

            // ÂÖ≥Èó≠È¢òÂ∫ì
            quizCloseBtn.addEventListener('click', closeQuiz);

            // ESCÈîÆÂÖ≥Èó≠È¢òÂ∫ìÂíåÁÆ°ÁêÜÈù¢Êùø
            document.addEventListener('keydown', (e) => {
                if (e.key === 'Escape') {
                    if (quizContainer.style.display !== 'none') {
                        closeQuiz();
                    } else if (adminPanel.classList.contains('active')) {
                        adminPanel.classList.remove('active');
                    }
                }
            });

            // È¢òÂ∫ìÂºïÊìé‰∫ã‰ª∂ÁõëÂê¨Âô®
            setupQuizEngineListeners();
        }

        // ËÆæÁΩÆÈ¢òÂ∫ìÂºïÊìé‰∫ã‰ª∂ÁõëÂê¨Âô®
        function setupQuizEngineListeners() {
            prevBtn.addEventListener('click', () => {
                if (isReviewMode) {
                    if (currentIncorrectReviewIndex > 0) {
                        currentIncorrectReviewIndex--;
                        displayQuestion(incorrectQuestions[currentIncorrectReviewIndex], true);
                    }
                } else {
                    if (currentQuestionIndex > 0) {
                        currentQuestionIndex--;
                        displayQuestion(currentQuestionIndex);
                    }
                }
            });

            nextBtn.addEventListener('click', () => {
                if (isReviewMode) {
                    if (nextBtn.textContent.includes('ÂÆåÊàêÂõûÈ°æ')) {
                        endReview();
                    } else if (currentIncorrectReviewIndex < incorrectQuestions.length - 1) {
                        currentIncorrectReviewIndex++;
                        displayQuestion(incorrectQuestions[currentIncorrectReviewIndex], true);
                    }
                } else {
                    if (nextBtn.textContent.includes('Êü•ÁúãÁªìÊûú')) {
                        showFinalScore();
                    } else if (currentQuestionIndex < currentQuizData.length - 1) {
                        currentQuestionIndex++;
                        displayQuestion(currentQuestionIndex);
                    }
                }
            });

            submitBtn.addEventListener('click', handleSubmit);
            restartBtn.addEventListener('click', restartQuiz);
            reviewIncorrectBtn.addEventListener('click', startReviewIncorrect);
        }

        // Ê∑ªÂä†Êñ∞È¢òÂ∫ì
        function addNewQuiz() {
            const subjectId = document.getElementById('subjectSelect').value;
            const periodName = document.getElementById('periodInput').value.trim();
            const quizName = document.getElementById('quizNameInput').value.trim();
            const quizDesc = document.getElementById('quizDescInput').value.trim();
            const difficulty = document.getElementById('difficultySelect').value;
            const estimatedTime = document.getElementById('estimatedTimeInput').value.trim();
            const questionsData = document.getElementById('quizDataInput').value.trim();

            if (!subjectId || !periodName || !quizName || !questionsData) {
                alert('ËØ∑Â°´ÂÜôÊâÄÊúâÂøÖÂ°´Â≠óÊÆµÔºÅ');
                return;
            }

            // Ëß£ÊûêÈ¢òÁõÆÊï∞ÊçÆ
            let questions;
            try {
                questions = JSON.parse(questionsData);
                if (!Array.isArray(questions) || questions.length === 0) {
                    throw new Error('È¢òÁõÆÊï∞ÊçÆÂøÖÈ°ªÊòØÈùûÁ©∫Êï∞ÁªÑ');
                }
            } catch (error) {
                alert('È¢òÁõÆÊï∞ÊçÆÊ†ºÂºèÈîôËØØÔºåËØ∑Ê£ÄÊü•JSONÊ†ºÂºèÔºÅ\nÈîôËØØÔºö' + error.message);
                return;
            }

            // ÁîüÊàêÂîØ‰∏ÄID
            const periodId = periodName.toLowerCase().replace(/\s+/g, '_');
            const quizId = quizName.toLowerCase().replace(/\s+/g, '_') + '_' + Date.now();

            // Á°Æ‰øùÂ≠¶ÁßëÂ≠òÂú®
            if (!quizData[subjectId]) {
                alert('ÊâÄÈÄâÂ≠¶Áßë‰∏çÂ≠òÂú®ÔºÅ');
                return;
            }

            // Á°Æ‰øùÊó∂ÊúüÂ≠òÂú®
            if (!quizData[subjectId].periods[periodId]) {
                quizData[subjectId].periods[periodId] = {
                    id: periodId,
                    name: periodName,
                    description: `${periodName}Áõ∏ÂÖ≥ÁöÑÁü•ËØÜ‰∏éÈ¢òÂ∫ì`,
                    icon: getRandomIcon(),
                    quizzes: []
                };
            }

            // Ê∑ªÂä†Êñ∞È¢òÂ∫ì
            const newQuiz = {
                id: quizId,
                name: quizName,
                description: quizDesc || `${quizName}ÁöÑËØ¶ÁªÜÂÜÖÂÆπ`,
                difficulty: difficulty,
                estimatedTime: estimatedTime,
                questions: questions
            };

            quizData[subjectId].periods[periodId].quizzes.push(newQuiz);

            // ‰øùÂ≠òÂà∞ localStorage
            localStorage.setItem('artQuizData', JSON.stringify(quizData));

            // ÈáçÁΩÆË°®Âçï
            addQuizForm.reset();
            quizDataInput.value = '';

            // Êõ¥Êñ∞ÊòæÁ§∫
            updateQuizList();
            
            // Âà∑Êñ∞ÂΩìÂâçÈ°µÈù¢
            refreshCurrentPage();

            alert('È¢òÂ∫ìÊ∑ªÂä†ÊàêÂäüÔºÅ');
        }

        // Âà†Èô§È¢òÂ∫ì
        function deleteQuiz(subjectId, periodId, quizId) {
            if (!confirm('Á°ÆÂÆöË¶ÅÂà†Èô§Ëøô‰∏™È¢òÂ∫ìÂêóÔºü')) return;

            const period = quizData[subjectId]?.periods[periodId];
            if (!period) return;

            period.quizzes = period.quizzes.filter(quiz => quiz.id !== quizId);

            // Â¶ÇÊûúÊó∂Êúü‰∏ãÊ≤°ÊúâÈ¢òÂ∫ì‰∫ÜÔºåÂà†Èô§Êï¥‰∏™Êó∂Êúü
            if (period.quizzes.length === 0) {
                delete quizData[subjectId].periods[periodId];
            }

            // ‰øùÂ≠òÂà∞ localStorage
            localStorage.setItem('artQuizData', JSON.stringify(quizData));

            // Êõ¥Êñ∞ÊòæÁ§∫
            updateQuizList();
            refreshCurrentPage();
        }

        // ÁºñËæëÈ¢òÂ∫ì
        function editQuiz(subjectId, periodId, quizId) {
            const quiz = quizData[subjectId]?.periods[periodId]?.quizzes.find(q => q.id === quizId);
            if (!quiz) return;

            // Â°´ÂÖÖË°®Âçï
            document.getElementById('subjectSelect').value = subjectId;
            document.getElementById('periodInput').value = quizData[subjectId].periods[periodId].name;
            document.getElementById('quizNameInput').value = quiz.name;
            document.getElementById('quizDescInput').value = quiz.description;
            document.getElementById('difficultySelect').value = quiz.difficulty;
            document.getElementById('estimatedTimeInput').value = quiz.estimatedTime;
            document.getElementById('quizDataInput').value = JSON.stringify(quiz.questions, null, 2);

            // Âà†Èô§ÂéüÈ¢òÂ∫ì
            deleteQuiz(subjectId, periodId, quizId);

            // ÊòæÁ§∫ÁÆ°ÁêÜÈù¢Êùø
            adminPanel.classList.add('active');
        }

        // Âà∑Êñ∞ÂΩìÂâçÈ°µÈù¢ÊòæÁ§∫
        function refreshCurrentPage() {
            if (currentState.level === 'period' && currentState.subject && currentState.period) {
                if (quizData[currentState.subject].periods[currentState.period]) {
                    showPeriodPage(currentState.subject, currentState.period);
                } else {
                    navigateToLevel('subject', { subject: currentState.subject });
                }
            } else if (currentState.level === 'subject' && currentState.subject) {
                showSubjectPage(currentState.subject);
            } else if (currentState.level === 'home') {
                showHomePage();
            }
        }

        // Êõ¥Êñ∞È¢òÂ∫ìÂàóË°®ÊòæÁ§∫
        function updateQuizList() {
            let listHTML = '';
            
            Object.values(quizData).forEach(subject => {
                Object.values(subject.periods).forEach(period => {
                    period.quizzes.forEach(quiz => {
                        listHTML += `
                            <div class="quiz-item">
                                <div>
                                    <strong>${quiz.name}</strong><br>
                                    <small>${subject.name} - ${period.name} (${quiz.questions?.length || 0}È¢ò)</small>
                                </div>
                                <div>
                                    <button class="edit-btn" onclick="editQuiz('${subject.id}', '${period.id}', '${quiz.id}')">
                                        ÁºñËæë
                                    </button>
                                    <button class="delete-btn" onclick="deleteQuiz('${subject.id}', '${period.id}', '${quiz.id}')">
                                        Âà†Èô§
                                    </button>
                                </div>
                            </div>
                        `;
                    });
                });
            });

            quizListContent.innerHTML = listHTML || '<p style="text-align:center;color:var(--text-muted);">ÊöÇÊó†È¢òÂ∫ì</p>';
        }

        // Ëé∑ÂèñÈöèÊú∫ÂõæÊ†á
        function getRandomIcon() {
            const icons = ['üé≠', 'üñºÔ∏è', 'üèõÔ∏è', 'üå∏', 'üè∫', 'üìú', 'üé™', 'üé®', 'üñåÔ∏è', '‚ú®', 'üí°', '‚≠ê', 'üî•', 'üåü'];
            return icons[Math.floor(Math.random() * icons.length)];
        }

        // ÂØºËà™Âà∞ÊåáÂÆöÂ±ÇÁ∫ß
        function navigateToLevel(level, data = {}) {
            switch (level) {
                case 'home':
                    currentState = { level: 'home', subject: null, period: null, quiz: null };
                    showHomePage();
                    break;
                case 'subject':
                    currentState = { level: 'subject', subject: data.subject, period: null, quiz: null };
                    showSubjectPage(data.subject);
                    break;
                case 'period':
                    currentState = { level: 'period', subject: data.subject, period: data.period, quiz: null };
                    showPeriodPage(data.subject, data.period);
                    break;
            }
            updateBreadcrumb();
        }

        // ÊòæÁ§∫È¶ñÈ°µ
        function showHomePage() {
            const subjects = Object.values(quizData).filter(subject => 
                Object.keys(subject.periods).length > 0
            );
            
            cardsGrid.innerHTML = subjects.map(subject => {
                const totalQuizzes = Object.values(subject.periods).reduce((sum, period) => sum + period.quizzes.length, 0);
                return `
                    <div class="card" onclick="navigateToSubject('${subject.id}')">
                        <div class="card-icon">${subject.icon}</div>
                        <h3>${subject.name}</h3>
                        <p>${subject.description}</p>
                        <div class="card-meta">
                            <span>${Object.keys(subject.periods).length} ‰∏™ÂàÜÁ±ª</span>
                            <span>${totalQuizzes} ‰∏™È¢òÂ∫ì</span>
                        </div>
                    </div>
                `;
            }).join('') || '<div style="grid-column: 1/-1; text-align: center; color: var(--text-muted); padding: 40px;"><h3>ÊöÇÊó†È¢òÂ∫ì</h3><p>ÁÇπÂáªÂè≥‰∏äËßí‚öôÔ∏èÊåâÈíÆÊ∑ªÂä†ÊÇ®ÁöÑÁ¨¨‰∏Ä‰∏™È¢òÂ∫ìÂêßÔºÅ</p></div>';
        }

        // ÊòæÁ§∫Â≠¶ÁßëÈ°µÈù¢
        function showSubjectPage(subjectId) {
            const subject = quizData[subjectId];
            if (!subject) return;

            const periods = Object.values(subject.periods);
            
            cardsGrid.innerHTML = periods.map(period => `
                <div class="card" onclick="navigateToPeriod('${subjectId}', '${period.id}')">
                    <div class="card-icon">${period.icon}</div>
                    <h3>${period.name}</h3>
                    <p>${period.description}</p>
                    <div class="card-meta">
                        <span>${period.quizzes.length} ‰∏™È¢òÂ∫ì</span>
                        <span>‚Üí</span>
                    </div>
                </div>
            `).join('') || '<div style="grid-column: 1/-1; text-align: center; color: var(--text-muted); padding: 40px;"><h3>ËØ•Â≠¶Áßë‰∏ãÊöÇÊó†È¢òÂ∫ì</h3><p>ÁÇπÂáªÂè≥‰∏äËßí‚öôÔ∏èÊåâÈíÆÊ∑ªÂä†È¢òÂ∫ìÔºÅ</p></div>';
        }

        // ÊòæÁ§∫Êó∂ÊúüÈ°µÈù¢
        function showPeriodPage(subjectId, periodId) {
            const period = quizData[subjectId]?.periods[periodId];
            if (!period) return;

            cardsGrid.innerHTML = period.quizzes.map(quiz => `
                <div class="card">
                    <div class="card-icon">${getDifficultyIcon(quiz.difficulty)}</div>
                    <h3>${quiz.name}</h3>
                    <p>${quiz.description}</p>
                    <div class="card-meta">
                        <span class="difficulty-badge difficulty-${quiz.difficulty}">
                            ${getDifficultyText(quiz.difficulty)}
                        </span>
                        <span>${quiz.questions?.length || 0} È¢ò</span>
                    </div>
                    <div style="margin-top: 20px;">
                        <div style="font-size: 0.9rem; color: var(--text-muted); margin-bottom: 16px;">
                            È¢ÑËÆ°Áî®Êó∂: ${quiz.estimatedTime}
                        </div>
                        <button class="start-quiz-btn" onclick="startQuiz('${subjectId}', '${periodId}', '${quiz.id}')">
                            <span>ÂºÄÂßãÊµãËØï</span>
                            <span>‚ñ∂</span>
                        </button>
                    </div>
                </div>
            `).join('') || '<div style="grid-column: 1/-1; text-align: center; color: var(--text-muted); padding: 40px;"><h3>ËØ•ÂàÜÁ±ª‰∏ãÊöÇÊó†È¢òÂ∫ì</h3><p>ÁÇπÂáªÂè≥‰∏äËßí‚öôÔ∏èÊåâÈíÆÊ∑ªÂä†È¢òÂ∫ìÔºÅ</p></div>';
        }

        // Êõ¥Êñ∞Èù¢ÂåÖÂ±ëÂØºËà™
        function updateBreadcrumb() {
            let items = [
                { level: 'home', text: 'üè† È¶ñÈ°µ', data: {} }
            ];

            if (currentState.subject) {
                const subject = quizData[currentState.subject];
                items.push({
                    level: 'subject',
                    text: `${subject.icon} ${subject.name}`,
                    data: { subject: currentState.subject }
                });
            }

            if (currentState.period) {
                const period = quizData[currentState.subject]?.periods[currentState.period];
                items.push({
                    level: 'period',
                    text: `${period.icon} ${period.name}`,
                    data: { subject: currentState.subject, period: currentState.period }
                });
            }

            breadcrumb.innerHTML = items.map((item, index) => {
                const isLast = index === items.length - 1;
                const isCurrent = isLast;
                
                return `
                    <div class="breadcrumb-item ${isCurrent ? 'current' : ''}" 
                         data-level="${item.level}" 
                         ${Object.entries(item.data).map(([key, value]) => `data-${key}="${value}"`).join(' ')}>
                        ${item.text}
                    </div>
                    ${!isLast ? '<span class="breadcrumb-separator">‚Ä∫</span>' : ''}
                `;
            }).join('');
        }

        // ÂØºËà™ÂáΩÊï∞
        function navigateToSubject(subjectId) {
            navigateToLevel('subject', { subject: subjectId });
        }

        function navigateToPeriod(subjectId, periodId) {
            navigateToLevel('period', { subject: subjectId, period: periodId });
        }

        // ÂºÄÂßãÊµãËØï - ‰ΩøÁî®ÂÜÖÂµåÂºïÊìé
        function startQuiz(subjectId, periodId, quizId) {
            const quiz = quizData[subjectId]?.periods[periodId]?.quizzes.find(q => q.id === quizId);
            if (!quiz || !quiz.questions || quiz.questions.length === 0) {
                alert('È¢òÂ∫ìÊï∞ÊçÆÈîôËØØÊàñ‰∏∫Á©∫ÔºÅ');
                return;
            }

            // ËÆæÁΩÆÈ¢òÂ∫ìÊï∞ÊçÆ
            currentQuizData = quiz.questions;
            quizTitle.textContent = quiz.name;
            quizSubtitle.textContent = quiz.description;

            // ÂàùÂßãÂåñÈ¢òÂ∫ìÂºïÊìé
            initQuizEngine();

            // ÊòæÁ§∫È¢òÂ∫ìÂÆπÂô®
            quizContainer.style.display = 'block';
            document.body.style.overflow = 'hidden';
        }

        // ÂÖ≥Èó≠ÊµãËØï
        function closeQuiz() {
            quizContainer.style.display = 'none';
            document.body.style.overflow = 'auto';
            
            // ÈáçÁΩÆÈ¢òÂ∫ìÂºïÊìé
            currentQuizData = null;
            currentQuestionIndex = 0;
            userAnswers = [];
            answeredStatus = [];
            score = 0;
            incorrectQuestions = [];
            isReviewMode = false;
        }

        // ÂàùÂßãÂåñÈ¢òÂ∫ìÂºïÊìé
        function initQuizEngine() {
            currentQuestionIndex = 0;
            userAnswers = new Array(currentQuizData.length).fill(null);
            answeredStatus = new Array(currentQuizData.length).fill(false);
            score = 0;
            incorrectQuestions = [];
            isReviewMode = false;
            quizStartTime = new Date();
            
            // ÊòæÁ§∫Áõ∏ÂÖ≥ÂÖÉÁ¥†
            quizContentArea.style.display = 'block';
            navigationControls.style.display = 'block';
            progressBarContainer.style.display = 'block';
            finalScoreContainer.style.display = 'none';
            
            displayQuestion(currentQuestionIndex);
        }

        // ÊòæÁ§∫È¢òÁõÆ
        function displayQuestion(index, isReview = false) {
            isReviewMode = isReview;
            const questionData = currentQuizData[index];
            quizArea.innerHTML = '';

            const questionBlock = document.createElement('div');
            questionBlock.classList.add('question-block');

            const questionHeader = document.createElement('div');
            questionHeader.classList.add('question-header');
            
            const sectionTitleDisplay = document.createElement('span');
            sectionTitleDisplay.classList.add('section-title-display');
            sectionTitleDisplay.textContent = questionData.section;
            questionHeader.appendChild(sectionTitleDisplay);

            const questionNumberDisplay = document.createElement('span');
            questionNumberDisplay.classList.add('question-number-display');
            if (isReview) {
                questionNumberDisplay.textContent = `ÈîôÈ¢ò ${currentIncorrectReviewIndex + 1} / ${incorrectQuestions.length}`;
            } else {
                questionNumberDisplay.textContent = `È¢òÁõÆ ${index + 1} / ${currentQuizData.length}`;
            }
            questionHeader.appendChild(questionNumberDisplay);
            
            questionBlock.appendChild(questionHeader);

            const questionText = document.createElement('p');
            questionText.classList.add('question-text');
            questionText.innerHTML = questionData.question;
            questionBlock.appendChild(questionText);

            const optionsDiv = document.createElement('div');
            optionsDiv.classList.add('options');
            questionData.options.forEach((option, i) => {
                const label = document.createElement('label');
                const radio = document.createElement('input');
                radio.type = 'radio';
                radio.name = `question${index}`;
                radio.id = `q${index}_option${i}`;
                radio.value = i;
                
                label.htmlFor = radio.id;

                const customRadioSpan = document.createElement('span');
                customRadioSpan.classList.add('custom-radio');

                const optionTextSpan = document.createElement('span');
                optionTextSpan.classList.add('option-text');
                optionTextSpan.textContent = option;

                if (userAnswers[index] === i && !answeredStatus[index] && !isReview) {
                    radio.checked = true;
                    label.classList.add('selected-option');
                }
                
                radio.disabled = answeredStatus[index] || isReview;
                if (isReview || answeredStatus[index]) {
                    label.classList.add('answered-option');
                    if (isReview) label.classList.add('disabled-option');
                }
                
                radio.addEventListener('change', () => {
                    if (!answeredStatus[index] && !isReview) {
                        userAnswers[index] = i;
                        optionsDiv.querySelectorAll('label').forEach(lbl => lbl.classList.remove('selected-option'));
                        label.classList.add('selected-option');
                        submitBtn.disabled = false;
                    }
                });

                label.appendChild(radio);
                label.appendChild(customRadioSpan);
                label.appendChild(optionTextSpan);
                optionsDiv.appendChild(label);
            });
            questionBlock.appendChild(optionsDiv);

            if ((!isReview && answeredStatus[index]) || isReview) {
                const explanationDiv = document.createElement('div');
                explanationDiv.classList.add('explanation');
                
                let explanationHTML = `<strong>Ëß£ÊûêÔºö</strong> ${questionData.explanation}`;
                
                if (userAnswers[index] === questionData.correctAnswer) {
                    explanationDiv.classList.add('correct');
                    if (!isReview) explanationHTML += "<span class='user-answer-indicator'><br><strong>ÊÇ®ÁöÑÈÄâÊã©Ôºö</strong> Ê≠£Á°ÆÔºÅ</span>";
                    else explanationHTML += `<span class='user-answer-indicator'><br><strong>ÊÇ®ÁöÑÈÄâÊã©Ôºö</strong> ${questionData.options[userAnswers[index]]} (Ê≠£Á°Æ)</span>`;
                } else {
                    explanationDiv.classList.add('incorrect');
                    explanationHTML += `<span class='user-answer-indicator'><br><strong>ÊÇ®ÁöÑÈÄâÊã©Ôºö</strong> ${questionData.options[userAnswers[index]]} (ÈîôËØØ)</span>`;
                    explanationHTML += `<span class='correct-answer-indicator'><br><strong>Ê≠£Á°ÆÁ≠îÊ°àÔºö</strong> ${questionData.options[questionData.correctAnswer]}</span>`;
                }
                explanationDiv.innerHTML = explanationHTML;
                questionBlock.appendChild(explanationDiv);
                highlightAnsweredOptions(optionsDiv, index, questionData.correctAnswer);
            }
            
            quizArea.appendChild(questionBlock);
            updateNavigationButtons();
            if (!isReview) updateProgressBar();
            
            submitBtn.style.display = isReview ? 'none' : 'inline-flex';
            if (!isReview) {
                submitBtn.disabled = answeredStatus[index] || userAnswers[index] === null;
            }

            quizContentArea.scrollTop = 0;
        }
        
        // È´ò‰∫ÆÂ∑≤ÂõûÁ≠îÈÄâÈ°π
        function highlightAnsweredOptions(optionsDiv, qIndex, correctAnswerIndex) {
            const radioLabels = optionsDiv.querySelectorAll('label');
            radioLabels.forEach((label, i) => {
                const radioInput = label.querySelector('input[type="radio"]');
                radioInput.disabled = true;
                label.classList.remove('selected-option');
                label.classList.add('answered-option');

                if (i === correctAnswerIndex) {
                    label.classList.add('correct-answer-highlight');
                }
                if (userAnswers[qIndex] === i && userAnswers[qIndex] !== correctAnswerIndex) {
                    label.classList.add('incorrect-user-choice');
                }
            });
        }

        // Â§ÑÁêÜÊèê‰∫§Á≠îÊ°à
        function handleSubmit() {
            if (userAnswers[currentQuestionIndex] === null && !answeredStatus[currentQuestionIndex]) {
                alert('ËØ∑ÈÄâÊã©‰∏Ä‰∏™Á≠îÊ°àÂêéÂÜçÊèê‰∫§ÔºÅ');
                return;
            }
            if (answeredStatus[currentQuestionIndex]) return;

            answeredStatus[currentQuestionIndex] = true;
            if (userAnswers[currentQuestionIndex] === currentQuizData[currentQuestionIndex].correctAnswer) {
                score++;
            } else {
                incorrectQuestions.push(currentQuestionIndex);
            }
            displayQuestion(currentQuestionIndex);
            updateProgressBar();
            updateNavigationButtons();
        }

        // Êõ¥Êñ∞ÂØºËà™ÊåâÈíÆ
        function updateNavigationButtons() {
            prevBtn.innerHTML = isReviewMode ? '‚Üê ‰∏ä‰∏ÄÈîôÈ¢ò' : '‚Üê ‰∏ä‰∏ÄÈ¢ò';
            submitBtn.innerHTML = 'Êèê‰∫§Á≠îÊ°à ‚úì';

            if (isReviewMode) {
                prevBtn.disabled = currentIncorrectReviewIndex === 0;
                nextBtn.disabled = false;
                nextBtn.innerHTML = (currentIncorrectReviewIndex === incorrectQuestions.length - 1) ? 'ÂÆåÊàêÂõûÈ°æ üèÅ' : '‰∏ã‰∏ÄÈîôÈ¢ò ‚Üí';
            } else {
                prevBtn.disabled = currentQuestionIndex === 0;
                if (currentQuestionIndex === currentQuizData.length - 1) {
                    if (allQuestionsAnswered()) {
                        nextBtn.innerHTML = 'Êü•ÁúãÁªìÊûú üèÅ';
                        nextBtn.disabled = false;
                        submitBtn.style.display = 'none';
                    } else {
                        nextBtn.innerHTML = '‰∏ã‰∏ÄÈ¢ò ‚Üí';
                        nextBtn.disabled = true;
                        submitBtn.style.display = answeredStatus[currentQuestionIndex] ? 'none' : 'inline-flex';
                    }
                } else {
                    nextBtn.innerHTML = '‰∏ã‰∏ÄÈ¢ò ‚Üí';
                    nextBtn.disabled = false;
                    submitBtn.style.display = answeredStatus[currentQuestionIndex] ? 'none' : 'inline-flex';
                }
                submitBtn.disabled = answeredStatus[currentQuestionIndex] || userAnswers[currentQuestionIndex] === null;
            }
        }
        
        // Ê£ÄÊü•ÊòØÂê¶ÊâÄÊúâÈ¢òÁõÆÈÉΩÂ∑≤ÂõûÁ≠î
        function allQuestionsAnswered() {
            return answeredStatus.every(status => status === true);
        }

        // Êõ¥Êñ∞ËøõÂ∫¶Êù°
        function updateProgressBar() {
            const answeredCount = answeredStatus.filter(status => status === true).length;
            const progress = currentQuizData.length > 0 ? (answeredCount / currentQuizData.length) * 100 : 0;
            progressBar.style.width = `${progress}%`;
            progressBar.textContent = `${Math.round(progress)}%`;
        }
        
        // Ê†ºÂºèÂåñÊó∂Èó¥
        function formatTime(milliseconds) {
            if (milliseconds < 0) milliseconds = 0;
            let totalSeconds = Math.floor(milliseconds / 1000);
            let minutes = Math.floor(totalSeconds / 60);
            let seconds = totalSeconds % 60;
            return `${minutes}ÂàÜ ${seconds.toString().padStart(2, '0')}Áßí`;
        }

        // ÊòæÁ§∫ÊúÄÁªàÊàêÁª©
        function showFinalScore() {
            quizEndTime = new Date();
            const timeTaken = quizEndTime - quizStartTime;
            const accuracy = currentQuizData.length > 0 ? (score / currentQuizData.length) * 100 : 0;

            quizContentArea.style.display = 'none';
            navigationControls.style.display = 'none';
            progressBarContainer.style.display = 'none';
            
            finalScoreContainer.style.display = 'flex';
            finalScoreSummaryDiv.innerHTML = `
                <h3>ÊµãËØïÂÆåÊàêÔºÅ</h3>
                <p><span>ÊÄªÈ¢òÁõÆÊï∞Ôºö</span> <span>${currentQuizData.length}</span></p>
                <p><span>Á≠îÂØπÈ¢òÊï∞Ôºö</span> <span>${score}</span></p>
                <p><span>Á≠îÈîôÈ¢òÊï∞Ôºö</span> <span>${incorrectQuestions.length}</span></p>
                <p class="accuracy"><span>Ê≠£Á°ÆÁéáÔºö</span> <span>${accuracy.toFixed(1)}%</span></p>
                <p><span>ÊÄªÁî®Êó∂Ôºö</span> <span>${formatTime(timeTaken)}</span></p>
            `;
            reviewIncorrectBtn.style.display = incorrectQuestions.length > 0 ? 'inline-flex' : 'none';
        }

        // ÂºÄÂßãÂõûÈ°æÈîôÈ¢ò
        function startReviewIncorrect() {
            if (incorrectQuestions.length === 0) return;
            isReviewMode = true;
            currentIncorrectReviewIndex = 0;

            quizContentArea.style.display = 'block';
            navigationControls.style.display = 'block';
            finalScoreContainer.style.display = 'none';
            progressBarContainer.style.display = 'none';
            submitBtn.style.display = 'none';

            displayQuestion(incorrectQuestions[currentIncorrectReviewIndex], true);
        }
        
        // ÁªìÊùüÂõûÈ°æ
        function endReview() {
            isReviewMode = false;
            showFinalScore();
            submitBtn.style.display = 'inline-flex';
        }

        // ÈáçÊñ∞ÂºÄÂßãÈ¢òÂ∫ì
        function restartQuiz() {
            currentQuestionIndex = 0;
            userAnswers.fill(null);
            answeredStatus.fill(false);
            score = 0;
            incorrectQuestions = [];
            isReviewMode = false;
            quizStartTime = new Date();
            
            quizContentArea.style.display = 'block';
            navigationControls.style.display = 'block';
            progressBarContainer.style.display = 'block';
            finalScoreContainer.style.display = 'none';
            
            submitBtn.style.display = 'inline-flex';
            displayQuestion(currentQuestionIndex);
        }

        // ËæÖÂä©ÂáΩÊï∞
        function getDifficultyIcon(difficulty) {
            const icons = {
                easy: 'üü¢',
                medium: 'üü°',
                hard: 'üî¥'
            };
            return icons[difficulty] || '‚ö™';
        }

        function getDifficultyText(difficulty) {
            const texts = {
                easy: 'ÂàùÁ∫ß',
                medium: '‰∏≠Á∫ß',
                hard: 'È´òÁ∫ß'
            };
            return texts[difficulty] || 'Êú™Áü•';
        }

        // Â§çÂà∂AIÊåá‰ª§Ê®°ÊùøÔºàÂêàÂπ∂‰∫ÜÁ§∫‰æãÔºâ
        function copyInstructionTemplate() {
            const instruction = `üìù È¢òÁõÆÁîüÊàê‰ªªÂä°Êåá‰ª§

ËØ∑Ê†πÊçÆÊàëÊèê‰æõÁöÑÂ≠¶‰π†ËµÑÊñôÔºåÁîüÊàêÈÄâÊã©È¢òÈ¢òÂ∫ìÔºåÊ†ºÂºèÂøÖÈ°ª‰∏•Ê†ºÊåâÁÖß‰ª•‰∏ãJSONÊ®°ÊùøÔºö

\`\`\`json
[
  {
    "section": "Á´†ËäÇÊàñ‰∏ªÈ¢òÂêçÁß∞",
    "question": "È¢òÁõÆÂÜÖÂÆπ",
    "options": [
      "ÈÄâÈ°πAÁöÑÂÆåÊï¥ÂÜÖÂÆπ",
      "ÈÄâÈ°πBÁöÑÂÆåÊï¥ÂÜÖÂÆπ", 
      "ÈÄâÈ°πCÁöÑÂÆåÊï¥ÂÜÖÂÆπ",
      "ÈÄâÈ°πDÁöÑÂÆåÊï¥ÂÜÖÂÆπ"
    ],
    "correctAnswer": 1,
    "explanation": "ËØ¶ÁªÜÁöÑËß£ÊûêÔºåËØ¥Êòé‰∏∫‰ªÄ‰πàËøô‰∏™Á≠îÊ°àÊòØÊ≠£Á°ÆÁöÑ"
  },
  {
    "section": "ÂºïË®ÄÔºöÂÆö‰πâÂç∞Ë±°Ê¥æÂèäÂÖ∂Èù©ÂëΩÊÄßÂΩ±Âìç",
    "question": "Âç∞Ë±°Ê¥æÁöÑÊ†∏ÂøÉ‰∏ªÂº†Âú®‰∫éÊçïÊçâËâ∫ÊúØÂÆ∂ÂØπÁâπÂÆöÂú∫ÊôØÁöÑ‰ªÄ‰πàÔºü",
    "options": [
      "ÂØπË±°ÁöÑÁ≤æÁªÜ„ÄÅÂÆ¢ËßÇÂÜçÁé∞‰∏éÂéÜÂè≤ÁªÜËäÇ",
      "Áû¨Èó¥ÊÑüÂÆòÂç∞Ë±°ÔºåÂ∞§ÂÖ∂ÊòØÂÖâÁ∫ø‰∏éËâ≤ÂΩ©ÁöÑÂèòÂπª",
      "ÁêÜÊÉ≥ÂåñÁöÑÁæéÂ≠¶ÂΩ¢ÊÄÅ‰∏éÁ•ûËØùÂèô‰∫ã",
      "Ê∑±ÂàªÁöÑÁ§æ‰ºöÊâπÂà§‰∏éÊîøÊ≤ªÂØìÊÑè"
    ],
    "correctAnswer": 1,
    "explanation": "Âç∞Ë±°Ê¥æÁöÑÊ†∏ÂøÉ‰∏ªÂº†Âú®‰∫éÊçïÊçâËâ∫ÊúØÂÆ∂ÂØπÁâπÂÆöÂú∫ÊôØÁöÑÁû¨Èó¥ÊÑüÂÆòÂç∞Ë±°ÔºåËÄåÈùûËøΩÊ±ÇÂØπË±°ÁöÑÁ≤æÁªÜ„ÄÅÂÆ¢ËßÇÂÜçÁé∞„ÄÇÂÖ∂Ëâ∫ÊúØÂÆûË∑µÁöÑÊ†∏ÂøÉÂú®‰∫éÂØπÂÖâÁ∫ø„ÄÅËâ≤ÂΩ©‰ª•ÂèäÂèòÂπªËé´ÊµãÁöÑÁû¨Èó¥ÁöÑÁ≤æÂ¶ôËøêÁî®„ÄÇ"
  },
  {
    "section": "ÊñáÂè≤Áü•ËØÜÁªºÂêà",
    "question": "‰∏≠ÂõΩÂè§‰ª£Áßë‰∏æÂà∂Â∫¶‰∏≠Ôºå\"Ëøû‰∏≠‰∏âÂÖÉ\"ÊåáÁöÑÊòØÂú®Âì™‰∏â‰∏™ËÄÉËØï‰∏≠ÈÉΩËé∑ÂæóÁ¨¨‰∏ÄÂêçÔºü",
    "options": [
      "ÂéøËØï„ÄÅÂ∫úËØï„ÄÅÈô¢ËØï",
      "‰π°ËØï„ÄÅ‰ºöËØï„ÄÅÊÆøËØï",
      "Á´•ÁîüËØï„ÄÅÁßÄÊâçËØï„ÄÅ‰∏æ‰∫∫ËØï",
      "ÂàùËØï„ÄÅÂ§çËØï„ÄÅÁªàËØï"
    ],
    "correctAnswer": 1,
    "explanation": "\"Ëøû‰∏≠‰∏âÂÖÉ\"ÊòØÊåáÂú®‰π°ËØï„ÄÅ‰ºöËØï„ÄÅÊÆøËØï‰∏âÁ∫ßËÄÉËØï‰∏≠ÈÉΩËé∑ÂæóÁ¨¨‰∏ÄÂêçÔºåÂàÜÂà´Áß∞‰∏∫Ëß£ÂÖÉ„ÄÅ‰ºöÂÖÉ„ÄÅÁä∂ÂÖÉ„ÄÇËøôÊòØÂè§‰ª£ËØª‰π¶‰∫∫ÁöÑÊúÄÈ´òËç£Ë™âÔºåÂéÜÂè≤‰∏äÁúüÊ≠£Ëøû‰∏≠‰∏âÂÖÉÁöÑ‰∫∫ÈùûÂ∏∏Â∞ëËßÅ„ÄÇ"
  }
]
\`\`\`

üìã Ê†ºÂºèË¶ÅÊ±ÇÔºö
1. **Êï∞ÁªÑÊ†ºÂºè**ÔºöÊï¥‰∏™È¢òÂ∫ìÊòØ‰∏Ä‰∏™Êï∞ÁªÑÔºåÂåÖÂê´Â§ö‰∏™È¢òÁõÆÂØπË±°
2. **sectionÂ≠óÊÆµ**ÔºöÁ´†ËäÇÊàñÁü•ËØÜÁÇπÂàÜÁ±ªÔºåË¶ÅÂÖ∑‰ΩìÊòéÁ°Æ
3. **questionÂ≠óÊÆµ**ÔºöÈ¢òÁõÆÊèèËø∞ÔºåË¶ÅÊ∏ÖÊô∞ÂáÜÁ°ÆÔºåÈÅøÂÖçÊ≠ß‰πâ
4. **optionsÊï∞ÁªÑ**ÔºöÂõõ‰∏™ÈÄâÈ°πÔºåÂÜÖÂÆπË¶ÅÂÆåÊï¥Ôºå‰∏çË¶ÅÂè™ÂÜô"ÈÄâÈ°πA"
5. **correctAnswerÊï∞Â≠ó**ÔºöÊ≠£Á°ÆÁ≠îÊ°àÁöÑÁ¥¢ÂºïÔºà0=Á¨¨‰∏Ä‰∏™ÈÄâÈ°πÔºå1=Á¨¨‰∫å‰∏™ÈÄâÈ°πÔºå‰ª•Ê≠§Á±ªÊé®Ôºâ
6. **explanationÂ≠óÊÆµ**ÔºöËØ¶ÁªÜËß£ÊûêÔºåË¶ÅËØ¥ÊòéÂéüÁêÜÂíåÁü•ËØÜÁÇπÔºåÂ∏ÆÂä©ÁêÜËß£

üéØ È¢òÁõÆË¥®ÈáèË¶ÅÊ±ÇÔºö
- È¢òÁõÆË¶ÅÊúâÂ±ÇÊ¨°ÊÄßÔºàÂü∫Á°Ä„ÄÅËøõÈò∂„ÄÅÁªºÂêàÂ∫îÁî®Ôºâ
- ÈÄâÈ°πË¶ÅÊúâÂêàÁêÜÁöÑÂπ≤Êâ∞ÊÄßÔºå‰∏çËÉΩÁ≠îÊ°àËøá‰∫éÊòéÊòæ
- Ëß£ÊûêË¶ÅËØ¶ÁªÜÂáÜÁ°ÆÔºåÂ∏ÆÂä©Â≠¶‰π†ËÄÖÁêÜËß£Áü•ËØÜÁÇπ
- ÂÖ®Èù¢Ë¶ÜÁõñËµÑÊñô‰∏≠ÁöÑÈáçË¶ÅÁü•ËØÜÁÇπ
- Âª∫ËÆÆÁîüÊàê15-30ÈÅìÈ¢òÁõÆÔºåÈ¢òÈáèÈÄÇ‰∏≠

üåü ÈÄÇÁî®ËåÉÂõ¥Ôºö
- Ëâ∫ÊúØÂè≤Á±ªÔºöË•øÊñπËâ∫ÊúØÂè≤„ÄÅ‰∏≠ÂõΩÁæéÊúØÂè≤„ÄÅËâ∫ÊúØÊ¶ÇËÆ∫
- ‰∏ñÁïåÂ∏∏ËØÜÁ±ªÔºöÊñáÂè≤Âì≤„ÄÅÊ≥ïÊîø„ÄÅÁêÜÁßë„ÄÅÂ∑•Áßë„ÄÅÂÜú‰∏ö„ÄÅÂåªÂ≠¶„ÄÅÊñáÂåñËâ∫ÊúØÁ≠âÂêÑÈ¢ÜÂüüÂü∫Á°ÄÁü•ËØÜ

ËØ∑Ê†πÊçÆÊàëÁöÑÂ≠¶‰π†ËµÑÊñôÁîüÊàêÈ´òË¥®ÈáèÁöÑÈ¢òÂ∫ìJSONÊï∞ÊçÆ„ÄÇ

---

ÊàëÁöÑÂ≠¶‰π†ËµÑÊñôÔºö
[ËØ∑Âú®Ê≠§Â§ÑÁ≤òË¥¥ÊÇ®ÁöÑÂ≠¶‰π†ËµÑÊñô]`;

            navigator.clipboard.writeText(instruction).then(() => {
                // ‰∏¥Êó∂ÊîπÂèòÊåâÈíÆÊñáÂ≠óÊèêÁ§∫Â§çÂà∂ÊàêÂäü
                const originalText = copyInstructionBtn.textContent;
                copyInstructionBtn.textContent = '‚úÖ Â∑≤Â§çÂà∂ÔºÅ';
                copyInstructionBtn.style.background = '#48bb78';
                setTimeout(() => {
                    copyInstructionBtn.textContent = originalText;
                    copyInstructionBtn.style.background = '#3182ce';
                }, 2000);
            }).catch(() => {
                alert('ËØ∑ÊâãÂä®Â§çÂà∂‰ª•‰∏ãÊåá‰ª§Ôºö\n\n' + instruction);
            });
        }

        // Êï∞ÊçÆÂ§á‰ªΩÂäüËÉΩ
        function backupData() {
            try {
                // Ëé∑ÂèñÂΩìÂâçÊó∂Èó¥‰Ωú‰∏∫Êñá‰ª∂Âêç
                const now = new Date();
                const timestamp = now.toISOString().slice(0, 19).replace(/[T:]/g, '_');
                const filename = `Â≠¶‰π†Âä©ÊâãÈ¢òÂ∫ìÂ§á‰ªΩ_${timestamp}.json`;

                // ÂáÜÂ§áÂ§á‰ªΩÊï∞ÊçÆ
                const backupData = {
                    version: "1.0",
                    exportTime: now.toISOString(),
                    totalQuizzes: Object.values(quizData).reduce((sum, subject) => 
                        sum + Object.values(subject.periods).reduce((pSum, period) => 
                            pSum + period.quizzes.length, 0), 0),
                    data: quizData
                };

                // ÂàõÂª∫‰∏ãËΩΩÈìæÊé•
                const dataStr = JSON.stringify(backupData, null, 2);
                const dataBlob = new Blob([dataStr], { type: 'application/json' });
                const url = URL.createObjectURL(dataBlob);

                // ÂàõÂª∫‰∏¥Êó∂‰∏ãËΩΩÈìæÊé•Âπ∂Ëß¶Âèë‰∏ãËΩΩ
                const downloadLink = document.createElement('a');
                downloadLink.href = url;
                downloadLink.download = filename;
                downloadLink.style.display = 'none';
                document.body.appendChild(downloadLink);
                downloadLink.click();
                document.body.removeChild(downloadLink);

                // Ê∏ÖÁêÜÂØπË±°URL
                setTimeout(() => URL.revokeObjectURL(url), 100);

                // Êõ¥Êñ∞ÊåâÈíÆÊòæÁ§∫ÊàêÂäüÁä∂ÊÄÅ
                const originalText = backupDataBtn.textContent;
                backupDataBtn.textContent = '‚úÖ Â§á‰ªΩÊàêÂäüÔºÅ';
                backupDataBtn.style.background = '#48bb78';
                setTimeout(() => {
                    backupDataBtn.textContent = originalText;
                    backupDataBtn.style.background = '#805ad5';
                }, 2000);

                console.log('Êï∞ÊçÆÂ§á‰ªΩÊàêÂäü:', filename);

            } catch (error) {
                console.error('Â§á‰ªΩÂ§±Ë¥•:', error);
                alert('Êï∞ÊçÆÂ§á‰ªΩÂ§±Ë¥•ÔºåËØ∑ÈáçËØïÔºÅ\nÈîôËØØÔºö' + error.message);
            }
        }

        // Êï∞ÊçÆÊÅ¢Â§çÂäüËÉΩ
        function restoreData(event) {
            const file = event.target.files[0];
            if (!file) return;

            // Ê£ÄÊü•Êñá‰ª∂Á±ªÂûã
            if (!file.name.toLowerCase().endsWith('.json')) {
                alert('ËØ∑ÈÄâÊã©JSONÊñá‰ª∂ÔºÅ');
                restoreFileInput.value = '';
                return;
            }

            const reader = new FileReader();
            reader.onload = function(e) {
                try {
                    const jsonData = JSON.parse(e.target.result);
                    
                    // Ê£ÄÊü•ÊòØÂê¶ÊòØÊúâÊïàÁöÑÂ§á‰ªΩÊñá‰ª∂
                    if (!jsonData.data) {
                        // ÂÖºÂÆπÊóßÊ†ºÂºèÊàñÁõ¥Êé•ÁöÑÊï∞ÊçÆÊ†ºÂºè
                        if (typeof jsonData === 'object' && (jsonData.western_art || jsonData.world_knowledge)) {
                            jsonData.data = jsonData;
                        } else {
                            throw new Error('Êñá‰ª∂Ê†ºÂºè‰∏çÊ≠£Á°ÆÔºåÁº∫Â∞ëÊï∞ÊçÆÂ≠óÊÆµ');
                        }
                    }

                    // È™åËØÅÊï∞ÊçÆÁªìÊûÑ
                    if (!validateQuizData(jsonData.data)) {
                        throw new Error('Êï∞ÊçÆÊ†ºÂºèÈ™åËØÅÂ§±Ë¥•');
                    }

                    // ËØ¢ÈóÆÁî®Êà∑ÊòØÂê¶Ë¶ÅË¶ÜÁõñÁé∞ÊúâÊï∞ÊçÆ
                    const hasExistingData = Object.values(quizData).some(subject => 
                        Object.keys(subject.periods).length > 0
                    );

                    let shouldProceed = true;
                    if (hasExistingData) {
                        shouldProceed = confirm(
                            'Ê£ÄÊµãÂà∞Áé∞ÊúâÈ¢òÂ∫ìÊï∞ÊçÆ„ÄÇ\n\nÈÄâÊã©"Á°ÆÂÆö"Â∞ÜÂÆåÂÖ®ÊõøÊç¢Áé∞ÊúâÊï∞ÊçÆ\nÈÄâÊã©"ÂèñÊ∂à"Â∞Ü‰∏≠Ê≠¢ÊÅ¢Â§çÊìç‰Ωú\n\nÂª∫ËÆÆÂÖàÂ§á‰ªΩÁé∞ÊúâÊï∞ÊçÆÔºÅ'
                        );
                    }

                    if (!shouldProceed) {
                        restoreFileInput.value = '';
                        return;
                    }

                    // ÊÅ¢Â§çÊï∞ÊçÆ
                    quizData = jsonData.data;
                    localStorage.setItem('artQuizData', JSON.stringify(quizData));

                    // Êõ¥Êñ∞ÁïåÈù¢
                    updateQuizList();
                    refreshCurrentPage();

                    // Êõ¥Êñ∞ÊåâÈíÆÊòæÁ§∫ÊàêÂäüÁä∂ÊÄÅ
                    const originalText = restoreDataBtn.textContent;
                    restoreDataBtn.textContent = '‚úÖ ÊÅ¢Â§çÊàêÂäüÔºÅ';
                    restoreDataBtn.style.background = '#48bb78';
                    setTimeout(() => {
                        restoreDataBtn.textContent = originalText;
                        restoreDataBtn.style.background = '#38a169';
                    }, 2000);

                    // ÁªüËÆ°ÊÅ¢Â§çÁöÑÊï∞ÊçÆ
                    const stats = getDataStatistics(quizData);
                    alert(`Êï∞ÊçÆÊÅ¢Â§çÊàêÂäüÔºÅ\n\nüìä ÊÅ¢Â§çÁªüËÆ°Ôºö\n‚Ä¢ Â≠¶ÁßëÊï∞ÈáèÔºö${stats.subjects}\n‚Ä¢ ÂàÜÁ±ªÊï∞ÈáèÔºö${stats.periods}\n‚Ä¢ È¢òÂ∫ìÊï∞ÈáèÔºö${stats.quizzes}\n‚Ä¢ È¢òÁõÆÊÄªÊï∞Ôºö${stats.questions}`);

                    console.log('Êï∞ÊçÆÊÅ¢Â§çÊàêÂäü:', stats);

                } catch (error) {
                    console.error('Êï∞ÊçÆÊÅ¢Â§çÂ§±Ë¥•:', error);
                    alert('Êï∞ÊçÆÊÅ¢Â§çÂ§±Ë¥•ÔºÅ\n\nÂèØËÉΩÁöÑÂéüÂõ†Ôºö\n‚Ä¢ Êñá‰ª∂Ê†ºÂºè‰∏çÊ≠£Á°Æ\n‚Ä¢ JSONËØ≠Ê≥ïÈîôËØØ\n‚Ä¢ Êï∞ÊçÆÁªìÊûÑ‰∏çÂåπÈÖç\n\nÈîôËØØËØ¶ÊÉÖÔºö' + error.message);
                }

                // Ê∏ÖÁ©∫Êñá‰ª∂ËæìÂÖ•
                restoreFileInput.value = '';
            };

            reader.onerror = function() {
                alert('Êñá‰ª∂ËØªÂèñÂ§±Ë¥•ÔºåËØ∑ÈáçËØïÔºÅ');
                restoreFileInput.value = '';
            };

            reader.readAsText(file);
        }

        // È™åËØÅÈ¢òÂ∫ìÊï∞ÊçÆÊ†ºÂºè
        function validateQuizData(data) {
            try {
                if (!data || typeof data !== 'object') return false;

                // Ê£ÄÊü•ÊØè‰∏™Â≠¶Áßë
                for (const [subjectId, subject] of Object.entries(data)) {
                    if (!subject.id || !subject.name || !subject.periods) return false;
                    
                    // Ê£ÄÊü•ÊØè‰∏™Êó∂Êúü
                    for (const [periodId, period] of Object.entries(subject.periods)) {
                        if (!period.id || !period.name || !Array.isArray(period.quizzes)) return false;
                        
                        // Ê£ÄÊü•ÊØè‰∏™È¢òÂ∫ì
                        for (const quiz of period.quizzes) {
                            if (!quiz.id || !quiz.name || !Array.isArray(quiz.questions)) return false;
                            
                            // Ê£ÄÊü•È¢òÁõÆÊ†ºÂºè
                            for (const question of quiz.questions) {
                                if (!question.question || !question.options || 
                                    !Array.isArray(question.options) || 
                                    question.options.length !== 4 ||
                                    typeof question.correctAnswer !== 'number' ||
                                    question.correctAnswer < 0 || question.correctAnswer > 3) {
                                    return false;
                                }
                            }
                        }
                    }
                }
                return true;
            } catch (error) {
                console.error('Êï∞ÊçÆÈ™åËØÅÈîôËØØ:', error);
                return false;
            }
        }

        // Ëé∑ÂèñÊï∞ÊçÆÁªüËÆ°‰ø°ÊÅØ
        function getDataStatistics(data) {
            let subjects = 0;
            let periods = 0;
            let quizzes = 0;
            let questions = 0;

            for (const subject of Object.values(data)) {
                subjects++;
                for (const period of Object.values(subject.periods)) {
                    periods++;
                    for (const quiz of period.quizzes) {
                        quizzes++;
                        questions += quiz.questions.length;
                    }
                }
            }

            return { subjects, periods, quizzes, questions };
        }

        // ÂêØÂä®Â∫îÁî®
        init();
    </script>
</body>
</html>